<!DOCTYPE html>
<html lang="es">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Token</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <header>
            <h1>Generador de Accesos</h1>
            <p>Sistema de gestión de invitaciones</p>
        </header>

        <main>
            <button id="generateBtn" class="primary-btn">
                <span class="btn-text">Generar Token</span>
                <span class="loader hidden"></span>
            </button>

            <div id="resultContainer" class="result-card hidden">
                <div class="result-header">
                    <span class="status-badge" id="statusBadge">Habilitado</span>
                    <span class="timestamp" id="timestamp"></span>
                </div>

                <div class="url-group">
                    <label>URL de Invitación</label>
                    <div class="input-wrapper">
                        <input type="text" id="urlInput" readonly>
                        <button id="copyBtn" class="icon-btn" title="Copiar URL">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="token-info">
                    <div class="info-item">
                        <span class="label">ID:</span>
                        <span class="value" id="idValue"></span>
                    </div>
                </div>
            </div>

            <!-- Pending Users Section -->
            <section id="pendingSection" class="pending-section">
                <div class="section-header">
                    <h2>Usuarios Pendientes</h2>
                    <span class="counter" id="userCounter">0 / 0</span>
                </div>

                <div id="pendingContainer" class="pending-container hidden">
                    <!-- User Card Section (Left) -->
                    <div class="pending-content">
                        <div id="userCard" class="user-card">
                            <div class="user-avatar" id="userAvatar">?</div>
                            <h3 class="user-name" id="userName">Nombre del Usuario</h3>
                            <p class="user-cedula" id="userCedula">Cédula</p>

                            <div class="user-details">
                                <div class="detail-row">
                                    <span class="detail-label">Categoría:</span>
                                    <span class="detail-value" id="userCategory">-</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Email:</span>
                                    <span class="detail-value" id="userEmail">-</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Teléfono:</span>
                                    <span class="detail-value" id="userPhone">-</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Asistencia:</span>
                                    <span class="detail-value" id="userAsistencia">-</span>
                                </div>
                            </div>

                            <div class="card-actions">
                                <button id="skipBtn" class="action-btn skip-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <polyline points="13 17 18 12 13 7"></polyline>
                                        <polyline points="6 17 11 12 6 7"></polyline>
                                    </svg>
                                    Siguiente
                                </button>
                                <button id="approveBtn" class="action-btn approve-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <polyline points="20 6 9 17 4 12"></polyline>
                                    </svg>
                                    Aprobar
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Sidebar Section (Right) - Category Filters -->
                    <div class="pending-sidebar">
                        <h3>Filtrar por Categoría</h3>
                        <div id="categoryFilters" class="filter-list">
                            <!-- Buttons will be dynamically inserted here -->
                        </div>
                    </div>
                </div>

                <div id="noUsersMessage" class="no-users-message hidden">
                    <p>No hay usuarios pendientes de aprobación</p>
                </div>

                <button id="loadUsersBtn" class="secondary-btn">
                    <span class="btn-text">Cargar Usuarios Pendientes</span>
                    <span class="loader hidden"></span>
                </button>
            </section>
        </main>
    </div>
    <div id="toast" class="toast hidden">URL copiada al portapapeles</div>
    <script src="config.js"></script>
    <script src="categories.js"></script>
    <script src="script.js"></script>
</body>

</html>